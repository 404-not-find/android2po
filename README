android2po
==========

Convert Android string resources to gettext .po files, and import them
right back.


Requirements
------------

babel > 0.9.4 (with context support)
	- Currently, this means using an SVN checkout.
    - http://babel.edgewall.org/

Since the .po files this script generates use contexts (``msgctx```),
that's what you're gettext software will have to support as well.

Usage
-----

Create an initial export of your current resources into .po files. You
will only need to do this once when converting to gettext, or when adding
a new language:

    ./a2po --initial export

If you do not have any localized Android string resources yet, instead
of using ``--initial``, you can also simply copy the generated
``template.pot`` generated by ``export`` to start with your translation.

After modifying the Android resource files, merge the changes into your
.po files:

    ./a2po export

Note that this will only consider changes in your default strings.xml
resource. You should no longer modify the language-specific resource files
manually anymore. If you do anyway, you can use the ``overwrite`` option to
``export`` to cause your .po files to be replaced with whatever is currently
in your XMLs.

Once your .po files are translated, load the translations from your .mo
files into your Android ``strings.xml`` files.

    ./a2po import

The above commands will assume that your current working directory is
within your Android project directory (identified by an
``AndroidManifest.xml`` file), and that your resources are located inside
``./res``. Alternatively, you may specify your resource directory manually:

    ./a2po --android ../my-resources COMMAND

``android2po`` will always run for every language it finds in your resource
directory, which is to say for any ``values-xx/strings.xml`` file it can
find.

You gettext files (.po and .mo) are by default stored within ``./locale``
inside your project directory. If you disagree, you may specify the
directory manually:

    ./a2po --gettext ../my-translations COMMAND


Notes
-----

Initially based on:
    http://code.google.com/p/openintents/source/browse/tools/Androidxml2po/androidxml2po.bash